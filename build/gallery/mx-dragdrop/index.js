let IsW3C=window.getComputedStyle,ClearSelection=e=>{(e=window.getSelection)&&e().removeAllRanges()},DragPrevent=e=>{e.preventDefault()},DragMoveEvent=["mousemove","touchmove"],DragEndEvent=["mouseup","pointercancel","touchcancel"],DragPreventEvent=["keydown","mousewheel","DOMMouseScroll","fullscreenchange"];export default{ctor(){let e=this;e.on("destroy",()=>{e.__()})},__(e){let t=this;if(t._a){let n;for(n of DragMoveEvent)document.removeEventListener(n,t._a);for(n of DragEndEvent)document.removeEventListener(n,t._b);for(n of DragPreventEvent)document.removeEventListener(n,DragPrevent);window.removeEventListener("blur",t._b),delete t._a;let o=t._c;o&&o(e)}},_d(e,t,n){let o=this;if(o.__(),e){let e;for(e of(ClearSelection(),o._c=n,o._b=o.__.bind(o),o._a=(e=>{t&&t(e)}),DragMoveEvent))document.addEventListener(e,o._a);for(e of DragEndEvent)document.addEventListener(e,o._b);for(e of DragPreventEvent)document.addEventListener(e,DragPrevent,{passive:!1});window.addEventListener("blur",o._b)}},_g(e,t){let n=null;if(document.elementFromPoint)for(!DragPrevent._e&&IsW3C&&(DragPrevent._e=!0,DragPrevent._f=null!==document.elementFromPoint(-1,-1)),DragPrevent._f&&(e+=window.pageXOffset,t+=window.pageYOffset),n=document.elementFromPoint(e,t);n&&3==n.nodeType;)n=n.parentNode;return n},_h:ClearSelection};