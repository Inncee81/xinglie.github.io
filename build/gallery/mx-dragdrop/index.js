let IsW3C=window.getComputedStyle,ClearSelection=e=>{(e=window.getSelection)&&e().removeAllRanges()},DragPrevent=e=>{e.preventDefault()},DragMoveEvent=["mousemove","touchmove"],DragEndEvent=["mouseup","pointercancel","touchcancel"],DragPreventEvent=["keydown","mousewheel","DOMMouseScroll","fullscreenchange"];export default{ctor(){let e=this;e.on("destroy",()=>{e._a()})},_a(e){let t=this;if(t._b){let n;for(n of DragMoveEvent)document.removeEventListener(n,t._b);for(n of DragEndEvent)document.removeEventListener(n,t._c);for(n of DragPreventEvent)document.removeEventListener(n,DragPrevent);window.removeEventListener("blur",t._c),delete t._b;let o=t._d;o&&o(e)}},_e(e,t,n){let o=this;if(o._a(),e){let e;for(e of(ClearSelection(),o._d=n,o._c=o._a.bind(o),o._b=(e=>{t&&t(e)}),DragMoveEvent))document.addEventListener(e,o._b);for(e of DragEndEvent)document.addEventListener(e,o._c);for(e of DragPreventEvent)document.addEventListener(e,DragPrevent,{passive:!1});window.addEventListener("blur",o._c)}},_h(e,t){let n=null;if(document.elementFromPoint)for(!DragPrevent._f&&IsW3C&&(DragPrevent._f=!0,DragPrevent._g=null!==document.elementFromPoint(-1,-1)),DragPrevent._g&&(e+=window.pageXOffset,t+=window.pageYOffset),n=document.elementFromPoint(e,t);n&&3==n.nodeType;)n=n.parentNode;return n},_i:ClearSelection};