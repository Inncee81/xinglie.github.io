let e=(e,t)=>{if(t){let r=[e,t].join("\0"),a=localStorage.getItem(r);if(a){let e=JSON.parse(a);if(e.expire>Date.now())return Promise.resolve(e.data)}return fetch(e).then(e=>e.json()).then(e=>{try{localStorage.setItem(r,JSON.stringify({data:e,expire:t+Date.now()}))}catch(e){localStorage.clear()}return e})}return fetch(e).then(e=>e.json())};e.clear=((e,t)=>{let r=[e,t].join("\0");localStorage.removeItem(r)});export default e;