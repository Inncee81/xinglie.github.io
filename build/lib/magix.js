/*!1.0.5 kooboy_li@163.com*/
let e=0,t="",r=[],i=window,n=void 0,o=document,a=i.setTimeout,f=encodeURIComponent;function l(){}let s,h=JSON.stringify,u=o.head,c=i.performance,d=c.now.bind(c),p=e=>S(Function(`return ${e}`)),b="\x1e",m="prototype",g="params",w="path",y=Object[m].toString,v=e=>y.call(e).slice(8,-1),k=e=>"Object"==v(e),$=Array.isArray,j=t=>(t||"_")+e++,x=e=>o.getElementById(e),V=(e,t)=>e.innerHTML=t,I={rootId:j(),error(e){throw e}},E=e=>!e||"object"!=typeof e,T=(e,t,r)=>{if(e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r},q=e=>{e[b+"b"]=0,e[b+"a"]=1},{assign:A,keys:C,hasOwnProperty:N}=Object,O=u.getAttribute,L=(e,t)=>O.call(e,t),M=(e,t,r)=>{t&&!M[e]&&(M[e]=1,r=o.createElement("style"),V(r,t),u.appendChild(r))},S=(e,t,r,i)=>{try{i=$(t)?e.apply(r,t):e.call(r,t)}catch(e){I.error(e)}return i},Z=(e,t)=>e&&N.call(e,t),_=(e,r)=>{let i,n;if(E(r))(i=r+t)[0]==b&&(r=e[i]);else for(i in r)n=r[i],n=_(e,n),r[i]=n;return r},B=(e,t)=>t.a-e.a;function U(e,t,r){(r=this).a=[],r.b=t||5,r.c=r.b+(e||20)}A(U[m],{get(e){let t=this.a[b+e];return t&&(t.a++,t=t.c),t},set(e,t){let r=this,i=r.a,n=b+e,o=i[n],a=r.b;if(!o){if(i.length>=r.c)for(i.sort(B);a--;)(o=i.pop()).a>0&&r.del(o.o);o={d:e},i.push(o),i[n]=o}o.c=t,o.a=1},del(e){e=b+e;let r=this.a,i=r[e];i&&(i.a=-1,i.c=t,r[e]=null)},has(e){return Z(this.a,b+e)}});let H={bubbles:!0,cancelable:!0},P=[],R=(e,t,r,i,n,o)=>{let a={a:i,b:r,c:t,d:e,e(e){i?S(r,e,o):r(e)}};P.push(a),e.addEventListener(t,a.e,n)},W=(e,t,r,i,n)=>{for(let o,a=P.length;a--;)if((o=P[a]).c==t&&o.a==i&&o.d==e&&o.b===r){P.splice(a,1),e.removeEventListener(t,o.e,n);break}},D=decodeURIComponent,F=new U,J=e=>{let r,i,n,o,a,f=F.get(e);if(!f){if(o={},-1==(a=e.indexOf("?")))r=e;else if(r=e.substring(0,a),e=e.substring(a+1))for(a of e.split("&"))[i,n]=a.split("="),o[D(i)]=D(n||t);F.set(e,f={a:r,b:o})}return{path:f.a,params:A({},f.b)}},Q=(e,r,i)=>{let n,o,a,l=[];for(o in r)n=r[o]+t,(!i||n||Z(i,o))&&(n=f(n),l.push(a=o+"="+n));return a&&(e+=(e&&(e.includes("?")?"&":"?"))+l.join("&")),e},z=new U,G=(e,t,r)=>(z.has(e)?r=z.get(e):(r=p(e),e.includes(b)?_(t,r):z.set(e,r)),r),K=0,X=[],Y=()=>{let e,t,r,i=d();try{for(;;){if(e=X[K-1],r=X[K],t=X[K+1],K+=4,!e){X.length=K=0;break}if(e!=l&&($(t)?e.apply(r,t):e.call(r,t)),d()-i>32&&X.length>K){a(Y);break}}}catch(e){I.error(e),a(Y)}},ee=(e,t,r,i)=>{if(K||(K=1,a(Y)),i)for(let e=X.length-1;e>=K;e-=4)X[e]==i&&(X[e-3]=l);X.push(e,r,t,i)},te={},re=(e,t)=>{if(e){$(e)||(e=[e]);let r,i,n,o=[],a=[],f=I.paths;for(r of e)(i=r.indexOf("/"))>-1&&!r.startsWith(".")&&(n=r.slice(0,i),r=r.slice(i+1),r=f[n]+r),r.endsWith(".js")||(r+=".js"),te[r]||(te[r]=import(r)),o.push(te[r]);Promise.all(o).then(e=>{for(r of e)a.push(r.default);ee(t,a)})}else ee(t)};function ie(){}let ne=(e,t,r,i,n)=>(ie[m]=t[m],n=new ie,A(n,r),A(e,i),n.constructor=e,e[m]=n,e),oe=e=>e;let ae,fe,le,se,he,ue,ce={fire(e,r){let i,n,o=this,a=o[b+e],f=0;if(r||(r={}),r.type=e,a)for(i=a.length;f<i;f++)(n=a[f]).f?(n.x=1,S(n.f,r,o),n.x=t):n.x||(a.splice(f--,1),i--);return(a=o[`on${e}`])&&S(a,r,o),o},on(e,t){let r=b+e;return(this[r]||(this[r]=[])).push({f:t}),this},off(e,r){let i,n=b+e,o=this,a=o[n];if(r){if(a)for(i of a)if(i.f==r){i.f=t;break}}else o[n]=null,o[`on${e}`]=null;return o}},de=(e,t,r,i,n,o)=>{(e=Ve(e,t,o))!=r.srcHash&&(ge=n,((e,t)=>{me[t?"replace":"assign"]("#"+e)})(e,i))},pe=new U,be=new U,me=location,ge=0,we={query:{},[g]:{},href:t},ye=we,ve=/(?:^.*\/\/[^\/]+|#.*$)/gi,ke=/^[^#]*#?/;function $e(e,r){return this[g][e]||r!==n?r+t:t}let je,xe,Ve=Q,Ie=e=>{e=e||me.href;let r,i,n,o,a,f=pe.get(e);return f||(r=e.replace(ve,t),i=e.replace(ke,t),f={get:$e,href:e,srcQuery:r,srcHash:i,query:n=J(r),hash:o=J(i),params:a=A({},n[g],o[g])},It&&(((e,t)=>{if(!e.view){let r=e.hash.path;r||(r=he.path,A(e[g],he[g])),ue&&(r=ue(r,e[g],fe)),t=fe[r]||le||se,e.path=r,e.view=t,k(t)&&A(e,t)}})(f),pe.set(e,f))),f},Ee=()=>{let e=Ie(),t=((e,t)=>{let r=e.href,i=t.href,n=r+b+i,o=be.get(n);if(!o){let i,a;o={params:a={},force:!r};let f,l=e[g],s=t[g],h=C(l).concat(C(s)),u=e=>{let t=l[e],r=s[e];t!=r&&(a[e]={from:t,to:r},i=1)};for(f of h)u(f);l=e,s=t,a=o,u(w),u("view"),be.set(n,o={a:i,b:o})}return o})(ye,ye=e);return!ge&&t.a&&((ae=t.b).path&&(e=e.title||I.title)&&(o.title=e),Te.fire("changed",ae)),ge=0,ae},Te=A({parse:Ie,diff:Ee,to(e,r,i,n){!r&&k(e)&&(r=e,e=t);let o=J(e),a=o[g],f=o.path,l=ye.path,s=ye[g],h=ye.query[g];if(A(a,r),f)for(l in h)Z(a,l)||(a[l]=t);else s&&(f=l,a=A({},s,a));de(f,a,ye,i,n,h)}},ce),qe=0,Ae=async(e,t,r,i)=>{if(e&&e.a!=qe&&(t=e.b)&&t.b)for(i of((e=>{let t,r,i,n=e.a;if(n.a&&(n.b&&(t=ae.path),!t&&n.c))for(r of(i=ae[g],n.c))if(t=Z(i,r))break;return t})(t)&&await t.c(),e.children()))ee(Ae,Ne[i])},Ce=(t,r,i)=>{r=Le(),(i=t.view)?r.mountView(i.to):(qe=e++,Ae(r))},Ne={},Oe=(e,t,r,i)=>{t.includes(b)&&(i=Ne[e])&&_(i.c,r)},Le=(e,t)=>(je||(s=o.body,e=xe=I.rootId,(t=x(e))||(t=s),je=new _e(t)),je),Me=(e,t)=>{Z(Ne,e)||(Ne[e]=t,_e.fire("add",{vframe:t}))},Se=(e,t,r)=>{for(t=e.e;t.length;)(r=t.shift()).r||ee(e.invoke,[r.n,r.a],e),delete t[r.k]},Ze=e=>e.b||(e.b=j(xe));function _e(e,t){let r=this,i=Ze(e);r.id=i,r.root=e,r.f=1,r.d={},r.pId=t,r.e=[],r.c={},Me(i,r)}A(_e,{root:()=>je,all:()=>Ne,byId:e=>Ne[e],byNode:e=>Ne[e.b]},ce),A(_e[m],{mountView(e,t){let r,i,n,o,a,f=this,{id:l,root:s,pId:h}=f;!f.g&&s&&(f.g=1,f.h=s.innerHTML),f.unmountView(),s&&e&&(r=J(e),n=r.path,f.path=e,o=r[g],Oe(h,e,o),f.i=n,A(o,t),i=f.f,re(n,e=>{if(i==f.f){if(!e)return I.error(Error(`${l} cannot load:${n}`));a=xt(e),n=new e(l,s,f,o,a),f.b=n,f.a=qe,yt(n),S(n.init,o,n),ee(n.g,o,n),ee(()=>{n.c(),n.tmpl||n.h||wt(n)})}}))},unmountView(){let e=this,{b:t,root:r}=e;e.e=[],t&&(e.b=0,t.b&&(t.b=0,q(t),e.unmountZone(),t.fire("destroy"),yt(t,1),r&&e.g&&V(r,e.h))),e.f++},mountVframe(e,t,r){let i,n=this,o=n.id,a=n.d,f=Ze(e);return(i=Ne[f])||(Z(a,f)||(n.j=0),a[f]=f,i=new _e(e,o)),i.mountView(t,r),i},mountZone(e){let t,r=this,i=(e=e||r.root).querySelectorAll("[mx-view]");for(t of i)t.a||(t.a=1,r.mountVframe(t,L(t,"mx-view")))},unmountVframe(e,t){let r,i;var n,o;e=e?this.d[t?e:e.b]:this.id,(r=Ne[e])&&(r.unmountView(),i=r.pId,(o=Ne[n=e])&&(delete Ne[n],o.root.a=0,_e.fire("remove",{vframe:o}),o.id=o.root=o.pId=o.d=null),(r=Ne[i])&&Z(r.d,e)&&(delete r.d[e],r.j=0))},unmountZone(e){let t,r,i,n=this;for(t in n.d)(i=e?(r=Ne[t])&&T(r.root,e):1)&&n.unmountVframe(t,1)},children(e){return(e=this).j||(e.j=C(e.d))},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=Ne[t.pId];return t},invoke(e,t){let r,i,n,o,a,f=this.e;return(i=this.b)&&i.h?r=(n=i[e])&&S(n,t,i):((o=f[a=b+e])&&(o.r=t===o.a),o={n:e,a:t,k:a},f.push(o),f[a]=o),r}});let Be=new U(30,10),Ue=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,He={},Pe={},Re={};let We=(e,t)=>{let i,n,o,a,f,l,h,u,c=[],d=e,p=L(e,`mx-${t}`),b=0;if(p&&((f=Be.get(p))||(f={v:(f=p.match(Ue)||r)[1],n:f[2],i:f[3]},Be.set(p,f)),f=A({},f,{r:p})),f&&!f.v||Pe[t]){if(!(u=d.c)){for(h=[d];d!=s&&(d=d.parentNode);){if(Ne[n=d.b]||(n=d.c)){u=n;break}h.push(d)}if(u)for(p of h)p.c=u}if(u){d=e.b,Ne[d]&&(b=u=d);do{if((i=Ne[u])&&(l=i.b)){if(a=(o=l.i)[t])for(d=a.length;d--;)o={r:n=a[d],v:u,n:n},n?!b&&e.matches(n)&&c.push(o):b&&c.unshift(o);if(l.tmpl&&!b)break;b=0}}while(i&&(u=i.pId))}}return f&&c.push(f),c},De=e=>{let t,r,i,n,o,a,f,l,{target:s,type:h}=e,u=[];for(;s&&1==s.nodeType&&!(e.cancelBubble||(r=s.d)&&r[h]);){if(u.push(s),(t=We(s,h)).length){u=[];for(let{v:r,r:u,n:c,i:d}of t){if(f!=r){if(f&&e.cancelBubble)break;f=r}if(!(n=(i=Ne[r])&&i.b))break;n.h&&(a=n[o=c+b+h])&&(e.eventTarget=s,l=d?G(d,i.c):Re,e[g]=l,S(a,e,n))}}s=s.parentNode}for(f of u)(r=f.d||(f.d={}))[h]=1},Fe=(e,t,r)=>{let i=0|He[e],n=r?-1:1;i&&r!==i||(r?W:R)(s,e,De),He[e]=i+n,t&&(Pe[e]=(0|Pe[e])+n)};let Je={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","`":"&#96;"},Qe=/[&<>"'\`]/g,ze=e=>null==e?t:t+e,Ge=e=>Je[e],Ke=e=>ze(e).replace(Qe,Ge),Xe={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Ye=e=>Xe[e],et=/[!')(*]/g,tt=e=>f(ze(e)).replace(et,Ye),rt=/[\\'"]/g,it=e=>ze(e).replace(rt,"\\$&"),nt=(e,t,r)=>(e[r]=t,r),ot=(e,t)=>{if(e.b&&(t=e.tmpl)){let i,n=e.j,o=e.id,a=Ne[o],f={a:[]},l=e.e,s=a.c;for(i of(e.k=0,e.j={},e.fire("dompatch"),i=t(l,ft,o,ze,tt,s,nt,it,$),pt(e.root,e.l,i,f,a,n),e.l=i,t=f.b||!e.h,f.a))ee(i.c,r,i,b+i.id);t&&wt(e),e.fire("domready")}},at={},ft=(e,r,i,n,o)=>{let a;if(e){r=r||at;let f,l,s,h,u,c=t,d=n,p={},b="<"+e,m=t,g=[];if(i)for(s of i)l=s.a,s.b==st&&(l=l?Ke(l):"\u200b"),m+=l,u&&s.b==st&&u.b==st?u.a+=s.a:(s.d&&(p[s.d]=(p[s.d]||0)+1),s.e&&(d=1),u=s,g.push(s));for(f in n=n||at,r)!1!==(l=r[f])&&null!=l?(!0===l&&(r[f]=l=n[f]?l:t),"id"==f?c=l:"mx-view"==f&&l&&!c?c=J(l).path:"_"!=f||c?"$"==f&&(d=1):c=l,"value"==f&&"textarea"==e?m=l:Z(lt,f)||(b+=` ${f}="${l&&Ke(l)}"`)):n[f]||delete r[f];h=b,a={a:b+=o?"/>":`>${m}</${e}>`,c:m,d:c,b:e,e:d,f:n,g:h,h:r,i:g,j:p,k:o}}else a={b:r?b:st,a:i+t};return a},lt={_:1,$:1};let st=e;let ht="http://www.w3.org/",ut={svg:`${ht}2000/svg`,math:`${ht}1998/Math/MathML`},ct=(e,r,i)=>{let n,o,a,f=0,l=i.f,s=r.f,h=i.h,u=r.h;if(r)for(n in u)Z(h,n)||(f=1,(a=s[n])?e[a]=t:e.removeAttribute(n));for(n in h)Z(lt,n)||(o=h[n],(a=l[n])?r&&e[a]==o||(f=1,e[a]=o):r&&u[n]==o||(f=1,e.setAttribute(n,o)));return f&&delete e.d,f},dt=(e,t)=>{let r,i=e.b;return i==st?r=o.createTextNode(e.a):(r=o.createElementNS(ut[i]||t.namespaceURI,i),ct(r,0,e),V(r,e.c)),r},pt=(e,t,r,i,n,o)=>{if(t){if(t.e||t.c!=r.c){let a,f,l,s,h,u,c=t.i,d=r.i,p=c.length,m=d.length,g=r.j,w=e.childNodes,y={},v=0;for(a=p;a--;)(h=(l=c[a]).d)&&(h=y[h]||(y[h]=[])).push(w[a]);for(a=0;a<m;a++)if(s=d[a],l=c[v++],(h=y[s.d])&&(h=h.pop())){if(h!=w[a]){for(f=v,u=1;f<p;f++,u++)if((l=c[f])&&w[a+u]==h){c.splice(f,1),v--;break}e.insertBefore(h,w[a])}g[l.d]&&g[l.d]--,bt(h,e,l,s,i,n,o)}else l?y[l.d]&&g[l.d]?(p++,i.b=1,e.insertBefore(dt(s,e),w[a]),v--):bt(w[a],e,l,s,i,n,o):(s.b==b?V(e,s.a):e.appendChild(dt(s,e)),i.b=1);for(a=m;a<p;a++)1==(f=w[m]).nodeType&&n.unmountZone(f),e.removeChild(f)}}else i.b=1,V(e,r.c)},bt=(e,t,r,i,n,o,a)=>{let f=r.h,l=i.h,s=r.b;if(r.e||r.a!=i.a)if(s==b)n.b=1,V(t,i.a);else if(s==i.b){if(s==st)n.b=1,e.nodeValue=i.a;else if(!f._||f._!=l._){let t,s,h,u,c,d,p,b=l["mx-view"],m=i.c,w=r.g!=i.g,y=r.f||w,v=Ne[e.b],k=b&&J(b);if(y&&(y=ct(e,r,i))&&(n.b=1),b&&v&&v.i==k.path&&(u=v.b)){if(d=m!=r.c,p=b!=v.path,h=f.$,!d&&!p&&h)for(h of c=h.split(","))if("#"==h||Z(a,h)){p=1;break}(p||d)&&(h=u.g,c=k[g],Oe(v.pId,b,c),v.path=b,v.h=m,S(h,c,u)&&n.a.push(u),t=!u.tmpl)}else t=1,s=v;s&&(n.b=1,v.unmountVframe()),t&&!i.k&&pt(e,r,i,n,o,a)}}else n.b=1,o.unmountZone(e),t.replaceChild(dt(i,t),e)},mt=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,gt=(e,t,r)=>(e.a?r=e:((r=function(e,t){for(t of r.a)S(t,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r),wt=e=>{let t,r;e.b&&(r=e.h,e.h=1,(t=e.owner).mountZone(),r||ee(Se,t))},yt=(e,t)=>{let r,{n:i,i:n,o:o,id:a}=e;for(r in i)Fe(r,n[r],t);for(r of(i=t?W:R,o))i(r.a,r.b,r.c,a,r.d,e)},vt={win:i,doc:o},kt=(e,t,r)=>{let i,n,o,a,f={};for(n of e)for(i in n)o=n[i],a=f[i],"ctor"!=i?(mt.test(i)&&(a?o=gt(a,o):o.b=1),f[i]=o):r.push(o);for(i in f)Z(t,i)||(t[i]=f[i])};function $t(...e){let t=this.a||(this.a=[]);return kt(e,this[m],t),this}let jt=e=>(function(...t){S(e,t,this)});let xt=e=>{if(!e[b]){e[b]=[];let t,r,i,n,o,a,f,l,s,h,u,c=e[m],d={},g=[],w={};for(f in(r=c.mixins)&&kt(r,c,e[b]),c)if(t=c[f],r=f.match(mt))for(l of([,a,i,n,u]=r,h=u?p(u):{},n=n.split(","))){if(o=vt[i],s=1,a){if(o){g.push({c:t,a:o,b:l,d:h});continue}s=2,(o=w[l])||(o=w[l]=[]),o[i]||(o[i]=1,o.push(i))}d[l]=d[l]|s,(o=c[l=i+b+l])?o.b&&(t.b?c[l]=gt(t,o):Z(c,f)&&(c[l]=t)):c[l]=t}c.c=c.render=jt(c.render),c.n=d,c.o=g,c.i=w,c.g=c.assign}return e[b]};function Vt(e,t,r,i,n){if((n=this).root=t,n.owner=r,n.id=e,n[b]=e,n.a={c:[]},n.b=1,n.k=1,n.e={id:e},n.j={},n.m=0,e=Vt.a)for(r of e)S(r,i,n)}A(Vt,{merge:$t,extend:function e(t,r){let i=this,n=(t=t||{}).ctor,o=[];function a(e,t,r,f,l,s,h,u){if(i.call(u=this,e,t,r,f,l),s=a.a)for(n of s)S(n,f,u);for(n of o.concat(l))S(n,f,u)}return n&&o.push(n),a.merge=$t,a.extend=e,ne(a,i,t,r)}}),A(Vt[m],ce,{init:l,render:l,assign:l,observeLocation(e,r){let i;(i=this.a).a=1,k(e)&&(r=e.path,e=e[g]),i.b=r,e&&(i.c=(e+t).split(","))},get(e,t){return t=this.e,e&&(t=t[e]),t},set(e,t){let r,i,n,o=this,a=o.e,f=o.j,l=o.k;for(n in e)r=e[n],i=a[n],E(r)&&i==r||Z(t,n)||(f[n]=1,l=1),a[n]=r;return o.k=l,o},changed(){return this.k},digest(e,t){let r=this.set(e,t);r.k&&r.b&&ot(r)},snapshot(){return this.q=h(this.e),this},altered(){let e=this;if(e.q)return e.q!=h(e.e)},parse(e){return G(e,this.owner.c)}});let It=0,Et={config:(e,t)=>(t=I,e&&(t=k(e)?A(t,e):t[e]),t),boot(e){It||(It=1,A(I,e),fe||(fe=I.routes||{},le=I.unmatchView,se=I.defaultView,he=J(I.defaultPath||"/"),ue=I.rewrite,Ve=I.rebuild||Ve),Te.on("changed",Ce),R(i,"hashchange",Ee),Ee())},unboot(){It&&(It=0,Te.off("changed",Ce),W(i,"hashchange",Ee),ye=we,je&&(je.unmountVframe(),je=null))},toMap:(e,t)=>{let r,i={};if(e)for(r of e)i[t&&r?r[t]:r]=t?r:1+(0|i[r]);return i},toTry:S,toUrl:Q,parseUrl:J,guid:j,use:re,dispatch:(e,t,r)=>{let i=new Event(t,H);A(i,r),e.dispatchEvent(i)},guard:oe,type:v,has:Z,inside:T,applyStyle:M,Cache:U,View:Vt,Vframe:_e,Event:ce,Router:Te,mark:(e,t,r,i,n)=>(e[n=b+"a"]||(r=e[n=b+"b"]||(e[n]={}),Z(r,t)||(r[t]=0),i=++r[t]),r=>(r=e[n],r&&i===r[t])),unmark:q,node:x,task:ee};export default Et;