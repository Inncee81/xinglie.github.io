/*!1.0.2 kooboy_li@163.com*/
let t={class:"xl-d"},e={class:"xl-e"};import l from"../lib/magix.js";import p from"../plugins/app.js";import a from"./ctrl.js";let s=l.toMap(p,"appId");export default l.View.extend({tmpl:(l,p,a,s,i,r,o)=>{let h,n,c,d=[],{items:f}=l;for(let l=f.length,i=0;i<l;i++){let l=f[i];c=[p(0,1,s(l.app.icon))],n=[p("div",t,c)],c=[p(0,0,s(l.app.title))],n.push(p("div",e,c)),h=[p("div",{class:"xl-c",style:"left:"+s(l.left)+"px;top:"+s(l.top)+"px","mx-click":a+"\x1e_ag({app:'"+o(r,l.app,"\x1ea."+i+".b")+"'})"},n)],d.push(...h)}return p(a,0,d)},init(){let t=getComputedStyle(document.body),e=parseInt(t.getPropertyValue("--xl-a"),10),p=parseInt(t.getPropertyValue("--xl-b"),10),i=parseInt(t.getPropertyValue("--xl-c"),10),r=parseInt(t.getPropertyValue("--xl-_"));this._ab=e,this._ac=p,this._ad=i,this._ae=r;let{params:o}=l.parseUrl(location.href);if(o.open){let t=o.open.split(",");for(let e of t){let t=s[e];t&&a._B(this,t)}}},_af(){let t=this._ab,e=this._ac,l=this._ad,a=this._ae,s=document.body.clientHeight-a,i=l,r=l,o=[];for(let a of p){o.push({app:a,left:i,top:r});let p=r+e+l;p+e>=s&&(p=l,i+=t+l),r=p}this.set({items:o})},render(){this._af(),this.digest()},"_ag<click>"(t){let{app:e}=t.params;a._B(this,e)},"$win<resize>"(){this.render()}});