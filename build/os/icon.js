let $quick_b_0_static_attr={class:"xl-c"},$quick_b_1_static_attr={class:"xl-d"};import Magix from"../lib/magix.js";import Apps from"../plugins/app.js";import DialogCtrl from"./ctrl.js";export default Magix.View.extend({tmpl:(t,e,i,s,l,p,r)=>{let a,_,o,c=[],{items:h}=t;for(let t=0,l=h,u=l.length;t<u;t++){let h=l[t];o=[e(0,1,s(h.app.icon))],_=[e("div",$quick_b_0_static_attr,o)],o=[e(0,0,s(h.app.title))],_.push(e("div",$quick_b_1_static_attr,o)),a=[e("div",{class:"xl-b",style:"left:"+s(h.left)+"px;top:"+s(h.top)+"px","mx-click":i+"\x1e_V({app:'"+r(p,h.app,"\x1e_."+t+".a")+"'})"},_)],c.push(...a)}return e(i,0,c)},init(){let t=getComputedStyle(document.body),e=parseInt(t.getPropertyValue("--xl-a"),10),i=parseInt(t.getPropertyValue("--xl-b"),10),s=parseInt(t.getPropertyValue("--xl-c"),10),l=parseInt(t.getPropertyValue("--xl-_"));this._Q=e,this._R=i,this._S=s,this._T=l},_U(){let t=this._Q,e=this._R,i=this._S,s=this._T,l=document.body.clientHeight-s,p=i,r=i,a=[];for(let s of Apps){a.push({app:s,left:p,top:r});let _=r+e+i;_+e>=l&&(_=i,p+=t+i),r=_}this.set({items:a})},render(){this._U(),this.digest()},"_V<click>"(t){let{app:e}=t.params;DialogCtrl._r(this,e)},"$win<resize>"(){this.render()}});