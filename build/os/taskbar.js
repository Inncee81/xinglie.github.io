/*!1.0.2 kooboy_li@163.com*/
import"./device.js";let t,i,e={class:"xl-G"};import l from"../lib/magix.js";import c from"./exchange.js";import s from"./ctrl.js";let a=(t,i)=>{let e=!1;return t["\0"+i.appId]||(t["\0"+i.appId]=1,t.push(i),e=!0),e};export default l.View.extend({tmpl:(l,c,s,a,p,d,h,o)=>{let r,m,x,v,_=[],{list:n,active:f}=l;t?r=[t]:(m=[c("path",{fill:"#fff",d:"M846.483 734.991c41.052 0 74.33-33.281 74.33-74.33V214.684c0-41.052-33.277-74.333-74.33-74.333H177.517c-41.052 0-74.33 33.281-74.33 74.333v445.977c0 41.049 33.277 74.33 74.33 74.33h222.989v74.33H136.974c-18.66 0-33.786 15.126-33.786 33.786v6.757c0 18.66 15.126 33.786 33.786 33.786h750.052c18.66 0 33.786-15.126 33.786-33.786v-6.757c0-18.66-15.126-33.786-33.786-33.786H586.33v-74.33h260.153zm-594.636-74.33c-41.052 0-74.33-33.281-74.33-74.333V289.013c0-41.052 33.277-74.33 74.33-74.33h520.307c41.049 0 74.33 33.277 74.33 74.33v297.315c0 41.052-33.281 74.333-74.33 74.333H251.847zm520.306-322.092c0-27.368-25.882-49.555-57.81-49.555H309.66c-31.928 0-57.814 22.187-57.814 49.555V536.78c0 27.364 25.885 49.552 57.814 49.552h404.684c31.928 0 57.81-22.187 57.81-49.552V338.569z"},0,0,1)],r=[t=c("svg",{class:"xl-E",viewBox:"0 0 1024 1024"},m)]),_.push(c("div",{_:"_",class:"xl-C xl-D",title:"\u663e\u793a\u684c\u9762","mx-click":s+"\x1e_ai()"},r));for(let t=n.length,i=0;i<t;i++){let t=n[i];v=[c(0,1,a(t.icon))],m=[c("span",e,v),c(0,0,a(t.title))],x="xl-F",t.appId==f&&(x+=" xl-H"),r=[c("div",{title:a(t.title),"mx-click":s+"\x1e_ah({id:'"+o(t.appId)+"'})",id:a(t.appId)+"_tb_i",class:x},m)],_.push(...r)}return i?_.push(i):_.push(i=c("div",{_:"a","mx-view":"~xl/os/device",class:"xl-J"})),c(s,0,_)},init(){let t,i=[],e=(e,l)=>{clearTimeout(t),e&&this.set({active:l}),t=setTimeout(()=>{this.digest({list:i})},50)};c.on("_L",t=>{a(i,t)&&e()}),c.on("_M",t=>{for(let l=i.length;l--;)if(i[l].appId==t.id){i.splice(l,1),delete i["\0"+t.id],e();break}}),c.on("_P",t=>{e(!0,t.id)}),c.on("_Q",()=>{e(!0)}),this.set({list:i})},render(){let t=this.get("list"),i=s._x();for(let e of i)a(t,e);this.digest()},"_ah<click>"(t){let{id:i}=t.params;s._y(i,!0)},"_ai<click>"(){s._I()}});