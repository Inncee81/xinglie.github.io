let t,e={class:"xl-F"};import i from"../lib/magix.js";import l from"./exchange.js";import c from"./ctrl.js";let s=(t,e)=>{let i=!1;return t["\0"+e.appId]||(t["\0"+e.appId]=1,t.push(e),i=!0),i};export default i.View.extend({tmpl:(i,l,c,s,p,a,d,o)=>{let r,h,m,_,n=[],{list:f,active:v}=i;t?r=[t]:(h=[l("path",{fill:"#fff",d:"M846.483 734.991c41.052 0 74.33-33.281 74.33-74.33V214.684c0-41.052-33.277-74.333-74.33-74.333H177.517c-41.052 0-74.33 33.281-74.33 74.333v445.977c0 41.049 33.277 74.33 74.33 74.33h222.989v74.33H136.974c-18.66 0-33.786 15.126-33.786 33.786v6.757c0 18.66 15.126 33.786 33.786 33.786h750.052c18.66 0 33.786-15.126 33.786-33.786v-6.757c0-18.66-15.126-33.786-33.786-33.786H586.33v-74.33h260.153zm-594.636-74.33c-41.052 0-74.33-33.281-74.33-74.333V289.013c0-41.052 33.277-74.33 74.33-74.33h520.307c41.049 0 74.33 33.277 74.33 74.33v297.315c0 41.052-33.281 74.333-74.33 74.333H251.847zm520.306-322.092c0-27.368-25.882-49.555-57.81-49.555H309.66c-31.928 0-57.814 22.187-57.814 49.555V536.78c0 27.364 25.885 49.552 57.814 49.552h404.684c31.928 0 57.81-22.187 57.81-49.552V338.569z"},0,1)],r=[t=l("svg",{class:"xl-D",viewBox:"0 0 1024 1024"},h)]),n.push(l("div",{_:"_",class:"xl-C",title:"\u663e\u793a\u684c\u9762","mx-click":c+"\x1e_Z()"},r));for(let t=0,i=f,p=i.length;t<p;t++){let p=i[t];_=[l(0,1,s(p.icon))],h=[l("span",e,_),l(0,0,s(p.title))],m="xl-E",p.appId==v&&(m+=" xl-G"),r=[l("div",{title:s(p.title),"mx-click":c+"\x1e_Y({id:'"+o(p.appId)+"'})",id:s(p.appId)+"_tb_i",class:m},h)],n.push(...r)}return l(c,0,n)},init(){let t,e=[],i=(i,l)=>{clearTimeout(t),i&&this.set({active:l}),t=setTimeout(()=>{this.digest({list:e})},50)};l.on("_B",t=>{s(e,t)&&i()}),l.on("_C",t=>{for(let l=e.length;l--;)if(e[l].appId==t.id){e.splice(l,1),delete e["\0"+t.id],i();break}}),l.on("_F",t=>{i(!0,t.id)}),l.on("_G",()=>{i(!0)}),this.set({list:e})},render(){let t=this.get("list"),e=c._o();for(let i of e)s(t,i);this.digest()},"_Y<click>"(t){let{id:e}=t.params;c._p(e,!0)},"_Z<click>"(){c._z()}});