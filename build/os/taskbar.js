let $quick_d_0_static_node,$quick_d_1_static_attr={class:"xl-C"};import Magix from"../lib/magix.js";import Exchange from"./exchange.js";import DialogCtrl from"./ctrl.js";export default Magix.View.extend({tmpl:(t,i,e,s,_,a,l,c)=>{let d,o,n,p,r=[],{list:h,active:x}=t;$quick_d_0_static_node?r.push($quick_d_0_static_node):r.push($quick_d_0_static_node=i("div",{_:"_",class:"xl-A"}));for(let t=0,_=h,a=_.length;t<a;t++){let a=_[t];p=[i(0,1,s(a.icon))],n=[i("span",$quick_d_1_static_attr,p),i(0,0,s(a.title))],o="xl-B",a.appId==x&&(o+=" xl-D"),d=[i("div",{title:s(a.title),"mx-click":e+"\x1e_W({id:'"+c(a.appId)+"'})",id:s(a.appId)+"_tb_i",class:o},n)],r.push(...d)}return i(e,0,r)},init(){let t,i=[],e=(e,s)=>{clearTimeout(t),e&&this.set({active:s}),t=setTimeout(()=>{this.digest({list:i})},50)};Exchange.on("_z",t=>{i.push(t.options),e()}),Exchange.on("_A",t=>{for(let s=i.length;s--;)if(i[s].appId==t.id){i.splice(s,1),e();break}}),Exchange.on("_D",t=>{e(!0,t.id)}),Exchange.on("_E",()=>{e(!0)}),this.set({list:i})},render(){this.digest()},"_W<click>"(t){let{id:i}=t.params;DialogCtrl._o(i,!0)}});