/*!1.0.2 kooboy_li@163.com*/
import t from"../lib/magix.js";let s=Object.assign({},t.Event);export default t.View.extend({tmpl:(t,s,e,i)=>{let r,a=[],{src:l}=t;return l&&(r=[s("img",{src:i(l),class:"xl-_"},0,0,1)],a.push(...r)),s(e,0,a)},init(){let e=s=>{if(this.get("src")!=s.src){let e=t.mark(this,"_aj");this.digest({src:""}),this.root.style.backgroundImage=`url(${s.thumb})`,setTimeout(()=>{e()&&this.digest({src:s.src})},20)}};s.on("_ak",e),this.on("destroy",()=>{s.off("_ak",e)})},render(){this.digest()}},{_al(t,e){s.fire("_ak",{thumb:t,src:e})}});