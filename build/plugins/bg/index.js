let t={class:"xl-O xl-R"};var r=this&&this.__awaiter||function(t,r,e,l){return new(e||(e=Promise))(function(a,i){function o(t){try{n(l.next(t))}catch(t){i(t)}}function h(t){try{n(l.throw(t))}catch(t){i(t)}}function n(t){t.done?a(t.value):new e(function(r){r(t.value)}).then(o,h)}n((l=l.apply(t,r||[])).next())})};import e from"../../lib/magix.js";import l from"../../os/wallpaper.js";e.applyStyle("xlc",".xl-O{width:310px;border-radius:2px;background:rgba(0,0,0,.53);height:62px;padding:2px 0;overflow:auto;box-shadow:0 -1px 0 6px rgba(0,0,0,.53)}.xl-P{width:100px;height:60px;background-size:cover;background-repeat:no-repeat;float:left;cursor:pointer;background-color:hsla(0,0%,100%,.2)}.xl-Q{margin-right:5px}.xl-R{scrollbar-width:thin;-ms-overflow-style:none}.xl-R::-webkit-scrollbar{height:0;width:0}.xl-R:hover::-webkit-scrollbar{height:2px}.xl-R::-webkit-scrollbar-corner{height:0;width:0}.xl-R::-webkit-scrollbar-thumb{background:hsla(0,0%,100%,.47);border-radius:2px}.xl-R::-webkit-scrollbar-thumb:hover{background:#fff}");export default e.View.extend({tmpl:(r,e,l,a,i,o,h,n)=>{let c,s,d,p,u,x=[],{list:b}=r;if(b&&b.length){d=[];for(let t=0,r=b,i=r.length,o=i-1;t<i;t++){let i=r[t],h=t===o,c=i.url.replace("bdr/__85","bdr/200_120_60");u="xl-P",h||(u+=" xl-Q"),p=[e("div",{style:"background-image:url("+a(c)+")","mx-click":l+"\x1e_ad({thumb:'"+n(c)+"',src:'"+n(i.url)+"'})",class:u})],d.push(...p)}s=[e("div",{style:"height:100%;width:"+a(105*b.length-5)+"px"},d)],c=[e("div",t,s)],x.push(...c)}return e(l,0,x)},render(){return r(this,void 0,void 0,function*(){try{let t=Math.floor(200*Math.random()),r=yield fetch("https://jsonp.afeld.me/?url=http%3A%2F%2Fwallpaper.apc.360.cn%2Findex.php%3Fc%3DWallPaper%26a%3DgetAppsByCategory%26cid%3D9%26start%3D"+t+"%26count%3D20%26from%3D360chrome"),e=yield r.json(),l=[];e&&e.data&&(l=e.data),this.digest({list:l})}catch(t){this.digest()}})},"_ad<click>"(t){let{thumb:r,src:e}=t.params;l._ab(r,e)}});