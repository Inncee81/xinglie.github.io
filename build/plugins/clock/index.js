/*!1.0.2 kooboy_li@163.com*/
let t;import e from"../../lib/magix.js";import r from"../../lib/cron.js";import o from"../../gallery/mx-dragdrop/index.js";e.applyStyle("xlg",".xl-ak{background:rgba(0,0,0,.53);width:150px;height:150px;border-radius:50%;position:relative;cursor:move}.xl-al{height:2px;border-radius:1px;width:80px;top:calc(50% - 1px);left:60px;transform-origin:15px center}.xl-am,.xl-al{position:absolute;background:#fff}.xl-am{height:4px;border-radius:2px;width:60px;top:calc(50% - 2px);left:63px;transform-origin:12px center}.xl-an{height:6px;background:#fff;border-radius:3px;width:50px;top:calc(50% - 3px);left:65px;transform-origin:10px center}.xl-ao,.xl-an{position:absolute}.xl-ao{height:10px;background:rgba(0,0,0,.53);border-radius:50%;width:10px;top:calc(50% - 5px);left:calc(50% - 5px)}");export default e.View.extend({mixins:[o],tmpl:(e,r,o,i)=>{let a,s=[],{id:l}=e;return a=[r("div",{class:"xl-an",id:"h_"+i(l)}),r("div",{class:"xl-am",id:"m_"+i(l)}),r("div",{class:"xl-al",id:"s_"+i(l)})],t?a.push(t):a.push(t=r("div",{_:"_",class:"xl-ao"})),s.push(r("div",{class:"xl-ak","mx-mousedown":o+"\x1e_av()"},a)),r(o,0,s)},render(){this.digest();let t=e.node("s_"+this.id),o=e.node("m_"+this.id),i=e.node("h_"+this.id),a=()=>{let e=new Date,r=(1e3*e.getSeconds()+e.getMilliseconds())/1e3,a=(60*e.getMinutes()+r)/60,s=(60*e.getHours()+a)/60;t.style.transform=`rotate(${6*r-90}deg)`,o.style.transform=`rotate(${6*a-90}deg)`,i.style.transform=`rotate(${30*s-90}deg)`};r._r(a,0,!0),this.on("destroy",()=>{r._s(a)})},"_av<mousedown>"(t){let e=this.root,r=parseInt(getComputedStyle(e).right),o=parseInt(getComputedStyle(e).bottom);this._d(t,i=>{let a=t.pageX-i.pageX,s=t.pageY-i.pageY,l=r+a,d=o+s;e.style.right=l+"px",e.style.bottom=d+"px"})}});