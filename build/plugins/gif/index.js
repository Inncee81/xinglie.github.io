/*!1.0.2 kooboy_li@163.com*/
import"../../gallery/mx-more/index.js";let t={class:"xl-aI"},a={class:"xl-aJ"},e={class:"xl-aK"},s={class:"xl-aM"},i={class:"xl-aO"},l={class:"xl-aL"};import h from"../../lib/magix.js";import r from"../../lib/agent.js";h.applyStyle("xll",".xl-aI{margin:10px}.xl-aJ{margin-bottom:10px;border:1px solid #ccc;border-radius:5px}.xl-aK{font-size:16px;font-weight:700;margin:5px 0 0 10px}.xl-aL{height:18px;margin-left:10px;font-size:12px}.xl-aM{padding:10px;min-height:100px}.xl-aN{width:auto;height:auto;max-width:100%}.xl-aO{font-size:18px}");let m=(t,a)=>{let e;do{e=Math.ceil(Math.random()*t)}while(1===a[e]);return a[e]=1,e},c=[{_aM(){this._aJ=400,this._aK={},this._aL="http://www.gaoxiaogif.com/"},_aN(){let t=this._aL,a=this._aK,e=m(this._aJ,a);return new Promise(async a=>{let s="";e>1&&(s=`index_${e}.html`);let i=[];try{let a=await r.request(t+s,0,!0),e=/'pic':'([^']+)','text':'([^']+)'[\s\S]+?<i\s+class="icon-clock"><\/i>([0-9\-]+)/g;a.replace(e,(t,a,e,s)=>(i.push({name:"",img:a,date:s,from:"\u641e\u7b11GIF\u56fe\u7247\u96c6"}),""))}catch(t){}a(i)})}},{_aM(){this._aJ=50,this._aK={},this._aL="https://interface.sina.cn/tech/gif/album.d.json?format=json&num=20&page="},_aN(){let t=this._aL,a=this._aK,e=m(this._aJ,a);return new Promise(async a=>{let s=[];try{let a=await r.request(t+e,0,!0),i=JSON.parse(a);if(i.data)for(let t of i.data)s.push({name:t.name,img:t.img_url,date:t.createtime,from:"\u65b0\u6d6a\u8da3\u56fe"})}catch(t){}a(s)})}},{_aM(){this._aJ=500,this._aK={},this._aL="http://quicklol.com/"},_aN(){let t=this._aL,a=this._aK,e=m(this._aJ,a);return new Promise(async a=>{let s="";e>1&&(s=`page/${e}/`);let i=[];try{let a=await r.request(t+s,0,!0),e=/<img[\s\S]+?class="[^"]+?wp-image-\d+"\s+src="([^"]+)"[\s\S]+?data-a2a-title="([^"]+)"/g;a.replace(e,(t,a,e)=>(i.push({name:e,img:a,from:"quicklol.com"}),""))}catch(t){}a(i)})}},{_aM(){this._aJ=102,this._aK={},this._aL="http://xiaohua.zol.com.cn/qutu/${0}.html"},_aN(){let t=this._aL,a=this._aK,e=m(this._aJ,a);return new Promise(async a=>{let s=[];try{t=t.replace("${0}",e);let a=await r.request(t,0,!0),i=/<span\s+class="article-title"><[^>]+>([\s\S]+?)<\/[^>]+><\/span>[\s\S]+?<div\s+class="summary-text">[\s\S]+?src="([^"]+)"/g;a.replace(i,(t,a,e)=>(e=e.replace(/\/t_s300x2000\//,"/t_s600x5000/"),s.push({name:"",img:e,date:"",from:"xiaohua.zol.com.cn"}),""))}catch(t){}a(s)})}},{_aM(){this._aJ=847,this._aK={},this._aL="http://www.tucaojie.com/"},_aN(){let t=this._aL,a=this._aK,e=m(this._aJ,a);return new Promise(async a=>{let s=[],i="";e>1&&(i=`index_${e}.html`);try{let a=await r.request(t+i,0,!0),e=/<img[^>]+?src="[^>]*?\/(d\/file\/[^"]+)"[^>]+alt="([^"]+)"/g;a.replace(e,(a,e,i)=>(s.push({name:i,img:t+e,date:"",from:"\u5410\u69fd\u8857"}),""))}catch(t){}a(s)})}},{_aM(){this._aJ=31099,this._aK={},this._aL="https://www.biedoul.com/index/${0}/"},_aN(){let t=this._aL,a=this._aK,e=m(this._aJ,a);return new Promise(async a=>{let s=[];t=t.replace("${0}",e);try{let a=await r.request(t,0,!0),e=/<DD>[\S\s]+?<STRONG>([\s\S]*?)<\/STRONG>[\S\s]+?<DD>([\s\S]+?)<\/DD>/g,i=/<img([^>]+?)src="(\/[^>]+)"/gi;a.replace(e,(t,a,e)=>(e=e.replace(i,(t,a,e)=>`<img${a}src="https://www.biedoul.com${e}"`),s.push({name:a,text:e,date:"",from:"\u522b\u9017\u4e86"}),""))}catch(t){}a(s)})}},{_aM(){this._aJ=50,this._aK={},this._aL="http://www.budejie.com/${0}"},_aN(){let t=this._aL,a=this._aK,e=m(this._aJ,a);return new Promise(async a=>{let s=[];t=t.replace("${0}",e);try{let a=await r.request(t,0,!0),e=/<div class="j-r-list-c-desc">\s*<a[^>]+>([\S\s]+?)<\/a>[\s\S]+?<img[^>]+?data-original="([^"]+)"/g;a.replace(e,(t,a,e)=>(s.push({name:a,img:e,date:"",from:"\u767e\u601d\u4e0d\u5f97\u59d0"}),""))}catch(t){}a(s)})}},{_aM(){this._aJ=195,this._aK={},this._aL="http://www.51xiaohua.com/ye${0}.html"},_aN(){let t=this._aL,a=this._aK,e=m(this._aJ,a);return new Promise(async a=>{let s=[];t=t.replace("${0}",e);try{let a=await r.request(t,0,!0),e=/<a href="\/baoxiaoegao\/(\d+)\.html">([\s\S]+?)<\/a>[\s\S]+?<a href="\/baoxiaoegao\/\1\.html"><img\s+src="([^"]+)"/g;a.replace(e,(t,a,e,i)=>(s.push({name:e,img:i,date:"",from:"51\u7b11\u8bdd\u7f51"}),""))}catch(t){}a(s)})}},{_aM(){this._aJ=1072,this._aK={},this._aL="https://www.xiaohua.com/duanzi?page=${0}"},_aN(){let t=this._aL,a=this._aK,e=m(this._aJ,a);return new Promise(async a=>{let s=[];t=t.replace("${0}",e);try{let a=await r.request(t,0,!0),e=/<p class="fonts">\s+<a href="\/detail\/\d+">([\s\S]+?)<\/a>/g;a.replace(e,(t,a)=>(s.push({name:name,text:a,date:"",from:"\u7b11\u8bdd\u7f51"}),""))}catch(t){}a(s)})}}];export default h.View.extend({tmpl:(h,r,m,c)=>{let o,n,_,p,g,u,d=[],{list:x}=h;o=[];for(let t=x.length,h=0;h<t;h++){let t=x[h];p=[r(0,0,c(t.name))],_=[r("div",e,p)],p=[],t.text&&(u=[r(0,1,c(t.text))],g=[r("div",i,u)],p.push(...g)),t.img&&(g=[r("img",{loading:"lazy",class:"xl-aN",src:c(t.img)},0,0,1)],p.push(...g)),_.push(r("div",s,p)),p=[r(0,0,"\u6765\u6e90:"+c(t.from)+" "+c(t.date))],_.push(r("div",l,p)),n=[r("div",a,_)],o.push(...n)}return o.push(r("div",{_:"_","mx-intersect":m+"\x1e_aQ()","mx-view":"~xl/gallery/mx-more/index"})),d.push(r("div",t,o)),r(m,0,d)},init(){for(let t of c)t._aM();this.set({list:[]})},assign:()=>!1,async render(){let t=Math.min(1+Math.ceil(Math.random()*c.length/1.5),c.length),a=[];for(;;){let e=Math.floor(Math.random()*c.length),s=c[e];if(a.includes(s)||a.push(s),a.length>=t)break}let e=[];for(let t of a)e.push(t._aN());let s=h.mark(this,"_aO"),i=await Promise.all(e);if(s()){let t=this.get("list");if(i.length>1){let a=0,e={};do{let s=Math.floor(Math.random()*i.length),l=i[s];l.length?t.push(l.pop()):1!==e[s]&&(e[s]=1,a++)}while(a!=i.length)}else t.push(...i[0]);this.digest({list:t})}delete this._aP},"_aQ<intersect>"(){this._aP||(this._aP=1,this.render())}});