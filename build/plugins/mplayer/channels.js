/*!1.1.0 kooboy_li@163.com*/
let e={class:"xl-b_"},l={class:"xl-be"};import s from"../../lib/magix.js";import t from"../../lib/cron.js";import i from"./player.js";export default s.View.extend({tmpl:(s,t,i,a,r,n,c)=>{let h,o,d,m,p,x,_=[],{error:b,channels:g,channel:f}=s;if(h=[],b)o=[t(0,0,a(b))],h.push(...o);else{o=[];for(let e=g.length,s=0;s<e;s+=1){let e=g[s];x=[t("img",{loading:"lazy",class:"xl-bf",src:a(e.cover_small)},0,0,1)],p=[t("div",l,x)],x=[t(0,0,a(e.name))],p.push(t("div",0,x)),m="xl-bc",f==e&&(m+=" xl-bd"),d=[t("div",{"mx5-click":f!=e&&i+"\x1e_aU({channel:'"+c(n,e,"\x1ee."+s)+"'})",class:m},p)],o.push(...d)}h.push(...o)}return _.push(t("div",e,h)),t(i,0,_)},init(){let e=this.render.bind(this);t._s(e,1.2*24*60*60*1e3,!1,"_aS"),this.ondestroy=()=>{t._t(e)}},async render(){let e=s.mark(this,"_aH");try{let l=await i._aT();e()&&this.digest(l)}catch(l){e()&&this.digest({error:"\u83b7\u53d6\u5206\u7c7b\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"})}},"_aU<click>"(e){let{channel:l}=e.params;s.dispatch(this.root,"change",{channel:l}),this.digest({channel:l})}});