import e from"../../lib/magix.js";import t from"./bridge.js";export default e.View.extend({tmpl:(e,t,i,r)=>{let o=[],{url:l}=e;return o.push(t("iframe",{src:r(l),sandbox:"allow-scripts allow-same-origin allow-popups",frameborder:"no",style:"width:100%;height:100%",scrolling:"yes"})),t(i,0,o)},init(){let e=this.render.bind(this);this.on("destroy",()=>{t.off("_bC",e)}),t.on("_bC",e)},render(){let e=t._bE(),i=t._bF(),r=e.skipURL||e.url;i&&(r="//3g.163.com/touch/comment.html?docid="+e.docid),r=r.replace(/^https?:/i,""),this.digest({url:r})}});