import Magix from"../../lib/magix.js";import Bridge from"./bridge.js";export default Magix.View.extend({tmpl:(r,e,i,t)=>{let s=[],{url:l}=r;return s.push(e("iframe",{src:t(l),sandbox:"allow-scripts allow-same-origin allow-popups",frameborder:"no",style:"width:100%;height:100%",scrolling:"yes"})),e(i,0,s)},init(){let r=this.render.bind(this);this.on("destroy",()=>{Bridge.off("_br",r)}),Bridge.on("_br",r)},render(){let r=Bridge._bt(),e=r.skipURL||r.url;e=e.replace(/^https?:/i,""),this.digest({url:e})}});