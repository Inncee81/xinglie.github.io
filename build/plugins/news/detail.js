import e from"../../lib/magix.js";import r from"./bridge.js";export default e.View.extend({tmpl:(e,r,i,t)=>{let s=[],{url:l}=e;return s.push(r("iframe",{src:t(l),sandbox:"allow-scripts allow-same-origin allow-popups",frameborder:"no",style:"width:100%;height:100%",scrolling:"yes"})),r(i,0,s)},init(){let e=this.render.bind(this);this.on("destroy",()=>{r.off("_bz",e)}),r.on("_bz",e)},render(){let e=r._bB(),i=e.skipURL||e.url;i=i.replace(/^https?:/i,""),this.digest({url:i})}});