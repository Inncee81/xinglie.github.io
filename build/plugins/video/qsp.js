/*!1.1.0 kooboy_li@163.com*/
let e={class:"xl-cl"},t={class:"xl-cm"};import l from"../../lib/magix.js";import r from"../../lib/agent.js";let s=/<a\s+href="((?:\/show-|\/\?s=vod-read-id-)[^"]+)"\s+title="([^"]+)">\2<\/a>/g;export default l.View.extend({tmpl:(l,r,s,i,a)=>{let o,n,p,h=[],{videos:c}=l;for(let l=c.length,s=0;s<l;s+=1){let l=c[s];p=[r(0,0,i(s+1)+".")],n=[r("span",t,p)],p=[r(0,0,i(l.title))],n.push(r("a",{class:"xl-cj",href:i(l.link),rel:"noopener noreferrer",target:"_blank"},p)),p=[r(0,0,"\u817e\u8baf")],n.push(r("a",{href:"https://v.qq.com/x/search/?q="+a(l.title),class:"xl-ci",rel:"noopener noreferrer",title:"\u4f7f\u7528\u817e\u8baf\u641c\u7d22"+i(l.title),target:"_blank"},p)),p=[r(0,0,"\u7231\u5947\u827a")],n.push(r("a",{href:"http://so.iqiyi.com/so/q_"+a(l.title),class:"xl-ci",rel:"noopener noreferrer",title:"\u4f7f\u7528\u7231\u5947\u4e16\u641c\u7d22"+i(l.title),target:"_blank"},p)),o=[r("div",e,n)],h.push(...o)}return r(s,0,h)},async render(){try{let e=l.mark(this,"_aH"),t=await r.request("https://www.qsptv.net/topmov.html",0,!0);if(e()){let e=[];t.replace(s,(t,l,r)=>(e.push({link:"https://www.qsptv.net"+l,title:r}),"")),this.digest({videos:e})}}catch(e){alert(e)}}});